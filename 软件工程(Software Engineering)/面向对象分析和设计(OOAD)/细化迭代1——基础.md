# 基础
细化包括：
+ 对核心、有风险的软件架构进行编程和测试
+ 发现并稳定需求的主体部分
+ 规避主要风险

细化不是设计阶段，也不要完成所有模型的开发。

架构原型(architectural prototype，可执行架构或架构基线)不是可以丢弃的原型，而是具有产品品质的最终系统的一部分。

# 领域模型
领域模型(domain model)是对领域内的概念类或现实世界中对象（而非软件对象）的可视化表示。

领域模型描述的信息也可以采用纯文本的方式表示。

软件对象的领域层：在表示层或UI层之下的软件对象层是由领域对象组成的——领域对象是表示问题领域空间的事物的软件对象，并且与业务逻辑或领域逻辑方法相关。

概念类是思想，事物或对象。符号是表示概念类的词语或图形。内涵即概念类的定义，外延为概念类所适用的一组示例。

领域模型不是数据模型，没有属性的概念类是合法的。

**动机：降低与OO建模之间的表示差异**

如何创建领域模型：
+ 寻找概念类
+ 将其绘制为UML类图中的类
+ 添加关联和属性

## 概念类
找到概念类的三个策略：
+ 重用和修改现有的模型
+ 使用分类列表：概念类的候选列表，建议加入优先级
+ 确定名词短语：语言分析

是否使用工具来维护模型：谁要使用这些更新的模型？为什么？

像地图绘制者的工作思维创建领域模型：使用地域中现有的名字，排除无关或超出范围的特性，不要凭空增加事物。

对于非现实世界，需要高度抽象，汲取领域专家所使用的核心词汇和概念。

如果我们认为概念类X不是现实中的数字或文本，那么X很有可能是概念类而不是属性。

使用描述类：如商品（实体）和商品描述（描述或抽象），或用于减少冗余信息（商品只需要对应一个描述类，而不需要包含详细信息）。

## 关联
关联是类的实例之间的关系，是否需要记录关联，要基于现实世界的需要，而不是基于软件的需要。以“类名-动词短语-类名”为关联命名。

关联的多重性定义了类A有多少个实例可以和类B的一个实例相关联。两个类之间可能存在多重关联。

## 属性
属性是对象的逻辑数据值。属性的完整语法：
```
可见性(public/private) 名称(first name): 类型(string/date) 可选值([0..1]) = 默认值(114514) {特性表(readonly)}
```

建议把所有的属性需求转移到词汇表中。

导出属性：由多重性的值导出，使用`/`标记。

大部分的属性类应该是简单的，通过关联而不是属性来表示概念类之间的关系。

何时需要定义新的类型：
+ 由不同小节组成（电话号码，人名）
+ 具有与之相关的操作（解析和校验）
+ 具有其他属性
+ 单位

属性不应表示概念类的关系，不要使用外键属性。

## 结论
领域模型是否正确没有唯一答案！