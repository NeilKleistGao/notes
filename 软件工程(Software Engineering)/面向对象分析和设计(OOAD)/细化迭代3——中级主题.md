# UML活动图
## 画法
+ 动作：圆角矩形，，完成某些动作
+ 分区：竖细线分隔，表示参加过程的不同参与者
+ 分叉点：粗线段，一个输入转换，以及多个输出的并行转换
+ 连接点：同分叉点，多个输入转换或对象流，一个输出变换
+ 对象节点：矩形，由动作产生或使用的对象
+ 起始：实心圆
+ 活动结束：实心圆+同心圆

## 应用
+ 业务过程图
+ 数据流图：对软件系统过程中所涉及的主要步骤和数据进行可视化
+ 并发编程和并行算法建模

## 准则
+ 对于涉及众多参与者的非常复杂的业务过程建模具有价值
+ 利用靶子符号和子活动图，在低级图中保持较高抽象，在高级图中扩展细节
+ 尽量保持同一张图中所有动作节点抽象水平一致

# UML状态机图
UML状态机图描述了某个对象的状态和感兴趣的事件以及对象响应该事件的行为。转换用标记有事件的箭头表示。状态用圆角矩形表示。

+ 事件：值得注意的事情发生
+ 状态：对象在事件发生之间某时刻所处的情形
+ 转换：两个状态之间的关系

考虑为具有复杂行为的状态依赖对象而不是状态无关对象建立状态机图。

转换可以有一个条件监护逻辑测试（布尔测试），只有测试通过时，转换才发生。

一个状态允许嵌套，以包含子状态。

# 用例关联
用例关系有一些价值，但更重要的工作是编写用例文本。

用例关系：
+ 包含关系：最常见，最重要的关系。多个用例中存在部分相同的行为，简单地使用下划线或某种高亮表示被包含的用例。可以分解过长用例或避免重复冗余
+ 扩展关系：使用扩展点创建扩展或附加用例
+ 泛化关系

术语：
+ 具体用例：由参与者发起，完成了参与者所期望的完整行为
+ 抽象用例：永远不能被自己实例化，是其他用例的子功能用例
+ 基础用例：包含其他用例或者被其他用例扩展或泛化
+ 附加用例：被其他用例包含的用例，扩展、泛化其他用例

# 领域模型精化
泛化和特化是领域建模中支持简练表达的基本概念。

领域模型可以使用概念分类列表、名词短语识别等进行增量开发。

泛化：泛化是在多个概念中识别共性和定义超类与子类关系的活动。

概念超类：定义较子类的定义更为概括或包含范围更广。

概念子类集合的所有成员都是其超类集合的成员。

概念超类的定义必须100%适用于子类。

Is-a规则：子类是一种超类。

何时将超类划分为子类：
+ 子类有额外的有意义的属性
+ 子类有额外有意义的关联
+ 子类概念的操作、处理、反映或使用的方式不同于其他超类或子类，而这些方法是我们所关注的
+ 子类概念表示了一个活动体，其行为与超类或其他子类不同，而这些行为是我们关注的

何时定义超类：
+ 潜在的概念子类表示的是相似概念的不同变体
+ 子类满足100%和Is-a规则
+ 所有子类有相同属性，可以解析出来并在超类表达
+ 所有子类都有相同的关联，可以解析出来并与超类关联

如果类C的每个成员也必须是某个子类的成员，则类C被称为抽象概念类。

不要将概念X的状态建模为X的子类，可选的方法：
+ 定义状态类层次结构，并与X关联
+ 在领域模型中忽略概念状态，而在状态图中反映

在领域模型中增加关联类的可能：
+ 有某个属性与关联相关
+ 关联类的实例具有依赖于关联的生命期
+ 两个类之间有多对多关联，且存在与关联自身相关的关系

在如下情况，考虑组合关系：
+ 部分的生命期在组成的生命期之内，部分的创建和删除依赖于整体
+ 在物理或者逻辑组装上，整体-部分关系很明确
+ 组成的某些属性会传递给部分
+ 对组合的操作可能会传递给部分

显示组合关系的益处：
+ 有利于澄清部分对整体依赖的领域约束
+ 有助于识别创建者
+ 对整体的复制、拷贝会传递给部分

避免在图中显示导出元素，除非导出元素是重要的术语，而缺乏这一术语会削弱理解。

概念到自身的关联称为自反关联。

划分包结构时，将满足下列条件的元素放在一起：
+ 在同一个主题领域，概念或目标密切相关的元素
+ 在同一个类层次结构中的关系
+ 参与同一个用例的元素
+ 有很强关联性的元素